(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){},230:function(e,t,a){e.exports=a(582)},235:function(e,t,a){},582:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(7),s=a.n(i),l=(a(235),a(25)),o=a(26),c=a(28),d=a(27),u=a(29),m=a(71),h=a(72),g=a(34),f=a.n(g),p=a(52),v=a.n(p),y=a(227),C=a.n(y),E=a(101),b=a.n(E),w=a(33),S=a.n(w),k=a(39),O=a.n(k),j=a(22),x=a.n(j),D=a(100),T=a.n(D),A=a(99),H=a.n(A),M=(a(103),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.saveCustomer=function(){var e={firstname:a.state.firstname,lastname:a.state.lastname,streetaddress:a.state.streetaddress,postcode:a.state.postcode,city:a.state.city,email:a.state.email,phone:a.state.phone};a.props.saveCustomer(e),a.setState({firstname:"",lastname:"",streetaddress:"",postcode:"",city:"",email:"",phone:""}),a.addModal.current.hide()},a.state={firstname:"",lastname:"",streetaddress:"",postcode:"",city:"",email:"",phone:""},a.addModal=r.a.createRef(),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"menuButtons"},r.a.createElement(f.a,{style:{width:"150px"},variant:"contained",color:"primary",onClick:function(){return e.addModal.current.show()}},r.a.createElement(H.a,null)," New customer")),r.a.createElement(S.a,{dialogStyles:{width:"500px",height:"400px",marginLeft:"-15%"},hideOnOverlayClicked:!0,ref:this.addModal,title:"Add a new customer"},r.a.createElement(x.a,{type:"text",required:!0,style:{margin:"5px"},label:"First name",name:"firstname",variant:"outlined",onChange:this.handleChange,value:this.state.firstname}),r.a.createElement(x.a,{required:!0,style:{margin:"5px"},label:"Last name",name:"lastname",variant:"outlined",onChange:this.handleChange,value:this.state.lastname}),r.a.createElement(x.a,{required:!0,style:{margin:"5px"},label:"Street address",name:"streetaddress",variant:"outlined",onChange:this.handleChange,value:this.state.streetaddress}),r.a.createElement(x.a,{required:!0,style:{margin:"5px"},label:"Postal code",name:"postcode",variant:"outlined",onChange:this.handleChange,value:this.state.postcode}),r.a.createElement(x.a,{required:!0,style:{margin:"5px"},label:"City",name:"city",variant:"outlined",onChange:this.handleChange,value:this.state.city}),r.a.createElement(x.a,{required:!0,style:{margin:"5px"},label:"Email address",name:"email",variant:"outlined",onChange:this.handleChange,value:this.state.email}),r.a.createElement(x.a,{required:!0,style:{margin:"5px"},label:"Phone number",name:"phone",variant:"outlined",onChange:this.handleChange,value:this.state.phone}),r.a.createElement(f.a,{style:{margin:"5px",width:"197px",height:"55px"},variant:"contained",color:"primary",onClick:this.saveCustomer},r.a.createElement(T.a,null),"Save")))}}]),t}(n.Component)),N=a(53),z=a.n(N),P=a(51),W=a.n(P),q=a(226),L=(a(395),a(397),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.handleDateTimePicker=function(e,t){a.setState(Object(m.a)({},t,e.toDate()))},a.getCustomers=function(){fetch("https://customerrest.herokuapp.com/api/customers").then(function(e){return e.json()}).then(function(e){a.setState({customers:e.content})})},a.getTrainings=function(e){fetch(e).then(function(e){return e.json()}).then(function(e){a.setState({trainings:e.content})}),a.addModal.current.show()},a.deleteCustomer=function(e){fetch(e,{method:"DELETE"}).then(function(e){a.getCustomers(),a.setState({showDeleteSnack:!0})})},a.saveCustomer=function(e){fetch("https://customerrest.herokuapp.com/api/customers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){a.getCustomers(),a.setState({showAddCustomerSnack:!0})})},a.setCustomer=function(e){a.setState({customer:e}),a.addModal2.current.show()},a.saveTraining=function(){var e={date:a.state.date,activity:a.state.activity,duration:a.state.duration,customer:a.state.customer};fetch("https://customerrest.herokuapp.com/api/trainings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a.setState({date:"",activity:"",duration:""}),a.addModal2.current.hide(),a.setState({showAddTrainingSnack:!0})},a.handleClose=function(){a.setState({showDeleteSnack:!1,showAddCustomerSnack:!1,showAddTrainingSnack:!1})},a.state={customers:[],trainings:[],customer:"",date:"",activity:"",duration:"",showDeleteSnack:!1,showAddCustomerSnack:!1,showAddTrainingSnack:!1},a.addModal=r.a.createRef(),a.addModal2=r.a.createRef(),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getCustomers()}},{key:"render",value:function(){var e=this,t=[{Header:"Add/List",columns:[{Header:"",accessor:"links[0].href",maxWidth:60,filterable:!1,sortable:!1,Cell:function(t){var a=t.value;return r.a.createElement(W.a,{title:"Add new training"},r.a.createElement(v.a,{size:"small",color:"primary",onClick:function(){return e.setCustomer(a)}},r.a.createElement(H.a,{fontSize:"small"})))}},{Header:"",accessor:"links[2].href",maxWidth:60,filterable:!1,sortable:!1,Cell:function(t){var a=t.value;return r.a.createElement(W.a,{title:"Show trainings for this customer"},r.a.createElement(v.a,{color:"primary",size:"small",onClick:function(){return e.getTrainings(a)}},r.a.createElement(C.a,{fontSize:"small"})))}}]},{Header:"Customer details",columns:[{Header:"Firstname",accessor:"firstname"},{Header:"Lastname",accessor:"lastname"},{Header:"Street address",accessor:"streetaddress"},{Header:"Postal code",accessor:"postcode"},{Header:"City",accessor:"city"},{Header:"Email",accessor:"email"},{Header:"Phone number",accessor:"phone"}]},{Header:"Delete",columns:[{Header:"",accessor:"links[0].href",maxWidth:80,filterable:!1,sortable:!1,Cell:function(t){var a=t.value;return r.a.createElement(W.a,{title:"Delete this customer"},r.a.createElement(v.a,{color:"secondary",onClick:function(){window.confirm("Are you sure you want to delete this customer (and their trainings) permanently?")&&e.deleteCustomer(a)},"aria-label":"Delete"},r.a.createElement(b.a,{fontSize:"small"})))}}]}],a=[{Header:"Activity",accessor:"activity"},{Header:"Date and time",accessor:"date",Cell:function(e){var t=e.value;return O()(t).format("MMM Do YYYY, hh:mm a")}},{Header:"Duration",maxWidth:80,accessor:"duration"}];return r.a.createElement("div",null,r.a.createElement(M,{saveCustomer:this.saveCustomer}),r.a.createElement(h.a,{filterable:!0,defaultPageSize:10,className:"maintable -striped -highlight",data:this.state.customers,columns:t}),r.a.createElement(S.a,{dialogStyles:{marginTop:"-400px",maxWidth:"600px"},hideOnOverlayClicked:!0,ref:this.addModal},r.a.createElement("div",{className:"container"},r.a.createElement("h3",null,"Individual training sessions"),r.a.createElement(h.a,{filterable:!0,defaultPageSize:10,className:"-striped -highlight",data:this.state.trainings,columns:a}))),r.a.createElement(S.a,{dialogStyles:{width:"300px",height:"350px",marginLeft:"-15%"},hideOnOverlayClicked:!0,ref:this.addModal2,title:"Add new training"},r.a.createElement(q,{inputProps:{required:"true",placeholder:"  Click to select time and date*",id:"datetime"},onChange:function(t){return e.handleDateTimePicker(t,"date")},value:this.state.date}),r.a.createElement("br",null),r.a.createElement(x.a,{required:!0,style:{margin:"5px"},label:"Activity",name:"activity",variant:"outlined",onChange:this.handleChange,value:this.state.activity}),r.a.createElement(x.a,{required:!0,style:{margin:"5px"},label:"Duration",name:"duration",variant:"outlined",onChange:this.handleChange,value:this.state.duration}),r.a.createElement("br",null),r.a.createElement(f.a,{style:{margin:10},variant:"contained",color:"primary",onClick:this.saveTraining},r.a.createElement(T.a,null),"Save")),r.a.createElement(z.a,{message:"Customer deleted succesfully",open:this.state.showDeleteSnack,autoHideDuration:3e3,onClose:this.handleClose}),r.a.createElement(z.a,{message:"Customer added succesfully",open:this.state.showAddCustomerSnack,autoHideDuration:3e3,onClose:this.handleClose}),r.a.createElement(z.a,{message:"Training added succesfully",open:this.state.showAddTrainingSnack,autoHideDuration:3e3,onClose:this.handleClose}))}}]),t}(n.Component)),Y=a(228),B=a.n(Y),R=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).getAllTrainings=function(){fetch("https://customerrest.herokuapp.com/gettrainings").then(function(e){return e.json()}).then(function(e){a.setState({trainings:e})}),a.addModal.current.show()},a.deleteTraining=function(e){fetch("https://customerrest.herokuapp.com/api/trainings/"+e,{method:"DELETE"}).then(function(e){a.getAllTrainings(),a.setState({showDeleteSnack:!0})})},a.handleClose=function(){a.setState({showDeleteSnack:!1})},a.state={trainings:[],showDeleteSnack:!1},a.addModal=r.a.createRef(),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=[{Header:"Firstname",accessor:"customer.firstname"},{Header:"Lastname",accessor:"customer.lastname"},{Header:"Date and time",accessor:"date",Cell:function(e){var t=e.value;return O()(t).format("MMM Do YYYY, hh:mm a")}},{Header:"Duration (min)",accessor:"duration",maxWidth:120},{Header:"Activity",accessor:"activity"},{Header:"",accessor:"id",maxWidth:80,filterable:!1,sortable:!1,Cell:function(t){var a=t.value;return r.a.createElement(W.a,{title:"Delete this training"},r.a.createElement(v.a,{color:"secondary",size:"small",onClick:function(){window.confirm("Are you sure you want to delete this training permanently?")&&e.deleteTraining(a)},"aria-label":"Delete"},r.a.createElement(b.a,{fontSize:"small"})))}}];return r.a.createElement("div",null,r.a.createElement("div",{className:"menuButtons"},r.a.createElement(f.a,{style:{width:"150px"},variant:"contained",color:"secondary",onClick:this.getAllTrainings},r.a.createElement(B.a,null)," Show all trainings")),r.a.createElement(S.a,{dialogStyles:{marginTop:"-300px",minWidth:"500px"},hideOnOverlayClicked:!0,ref:this.addModal},r.a.createElement("div",{className:"container"},r.a.createElement("h3",null,"All trainings"),r.a.createElement(h.a,{filterable:!0,defaultPageSize:10,className:"-striped -highlight",data:this.state.trainings,columns:t}))),r.a.createElement(z.a,{message:"Training deleted succesfully",open:this.state.showDeleteSnack,autoHideDuration:3e3,onClose:this.handleClose}))}}]),t}(n.Component),J=a(145),F=a.n(J),I=a(229),$=a.n(I),G=(a(580),F.a.momentLocalizer(O.a)),K=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).getAllTrainings=function(){fetch("https://customerrest.herokuapp.com/gettrainings").then(function(e){return e.json()}).then(function(e){a.setState({trainings:e})})},a.createEvents=function(){for(var e=a.state.trainings,t=[],n=0;n<e.length;n++)null!=e[n].customer&&(t[n]={title:"Activity: ".concat(e[n].activity,", Customer: ").concat(e[n].customer.firstname," ").concat(e[n].customer.lastname),start:new Date(e[n].date),end:new Date(e[n].date+6e4*e[n].duration),allDay:!1});a.setState({events:t}),a.addModal.current.show()},a.state={trainings:[],events:[]},a.addModal=r.a.createRef(),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getAllTrainings()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"menuButtons"},r.a.createElement(f.a,{style:{width:"150px"},variant:"contained",color:"primary",onClick:this.createEvents},r.a.createElement($.a,null),"Show calendar")),r.a.createElement(S.a,{dialogStyles:{marginTop:"-400px",minWidth:"800px"},hideOnOverlayClicked:!0,ref:this.addModal},r.a.createElement("div",{className:"container"},r.a.createElement(F.a,{popup:!0,localizer:G,style:{height:700},events:this.state.events,views:["month","day","week","agenda"]}))))}}]),t}(n.Component),Q=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h2",null,"Customers")),r.a.createElement(K,null),r.a.createElement(R,null),r.a.createElement(L,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[230,2,1]]]);
//# sourceMappingURL=main.b0e8e6df.chunk.js.map